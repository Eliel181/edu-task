<section>
    <div class="relative flex flex-col items-center justify-center px-6 py-9 mx-auto md:h-screen lg:py-0 mt-25 lg:mt-0">
        <div class="w-full rounded-lg bg-white shadow py-4 md:mt-0 sm:max-w-md xl:p-0 border border-gray-300">
            <div class="p-6 space-y-2 md:space-y-4 sm:p-8">
                <h1
                    class="text-2xl text-center font-bold leading-tight tracking-tight md:text-2xl text-black mb-[2rem]">
                    REGISTRO
                </h1>
                <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4 md:space-y-6">
                    <!-- NOMBRE -->
                    <div class="inputGroup">
                        <input type="text" name="nombre" formControlName="nombre" id="nombre" required>
                        <label for="nombre">Nombre</label>
                        @if (nombre?.touched && nombre?.invalid) {
                        <div class="text-sm text-red-600 mt-1">
                            @if (nombre?.errors?.['required']) {
                            <span>El nombre es obligatorio.</span>
                            }
                            @if (nombre?.errors?.['minlength']) {
                            <span>El nombre debe tener al menos 3 caracteres.</span>
                            }
                        </div>
                        }
                    </div>

                    <!-- APELLIDO -->
                    <div class="inputGroup">
                        <input type="text" name="apellido" formControlName="apellido" id="apellido" required>
                        <label for="apellido">Apellido</label>
                        @if (apellido?.touched && apellido?.invalid) {
                        <div class="text-sm text-red-600 mt-1">
                            @if (apellido?.errors?.['required']) {
                            <span>El apellido es obligatorio.</span>
                            }
                        </div>
                        }
                    </div>

                    <!-- EMAIL -->
                    <div class="inputGroup">
                        <input name="email" formControlName="email" id="email" required>

                        <label for="email">Correo Electrónico</label>
                        @if (email?.touched && email?.invalid) {
                        <div class="text-sm text-red-600 mt-1">
                            @if (email?.errors?.['required']) {
                            <span>El correo es obligatorio.</span>
                            }
                            @if (email?.errors?.['email']) {
                            <span>Debe ingresar un correo válido.</span>
                            }
                        </div>
                        }
                    </div>

                    <!-- TELÉFONO -->
                    <div class="inputGroup">
                        <input type="tel" name="telefono" formControlName="telefono" id="telefono" required>
                        <label for="telefono">Teléfono</label>
                        @if (telefono?.touched && telefono?.invalid) {
                        <div class="text-sm text-red-600 mt-1">
                            @if (telefono?.errors?.['required']) {
                            <span>El telefono es obligatorio.</span>
                            }
                        </div>
                        }
                    </div>

                    <!-- PASSWORD -->
                    <div class="inputGroup">
                        <input type="password" name="password" formControlName="password" id="password" required>
                        <label for="password">Contraseña</label>
                        @if (password?.touched && password?.invalid) {
                        <div class="text-sm text-red-600 mt-1">
                            @if (password?.errors?.['required']) {
                            <span>La contraseña es obligatoria.</span>
                            }
                            @if (password?.errors?.['minlength']) {
                            <span>Debe tener al menos 8 caracteres.</span>
                            }
                            @if (password?.errors?.['pattern']) {
                            <span>Debe incluir al menos una mayúscula, un número y un carácter especial (&, !, o
                                &#64;).</span>

                            }
                        </div>
                        }
                    </div>


                    <button type="submit" [disabled]="isSubmitting"
                        class="shadow__btn w-full text-white font-medium rounded-lg text-sm px-5 py-2.5 text-center">
                        <div *ngIf="isSubmitting; else showText">
                            <div class="flex justify-center flex-row gap-2">
                                <div class="w-2 h-2 rounded-full bg-white animate-bounce [animation-delay:.7s]"></div>
                                <div class="w-2 h-2 rounded-full bg-white animate-bounce [animation-delay:.3s]"></div>
                                <div class="w-2 h-2 rounded-full bg-white animate-bounce [animation-delay:.7s]"></div>
                            </div>
                        </div>
                        <ng-template #showText>
                            Registrarse
                        </ng-template>
                    </button>
                </form>

                <p class="text-sm font-light text-blue-300">
                    ¿Ya tienes una cuenta? <a routerLink="/login"
                        class="font-medium text-blue-400 hover:underline">Inicia sesión aquí</a>
                </p>
            </div>
        </div>
    </div>
</section>